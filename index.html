<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</title>
    <!-- [PWA] Link to Manifest & Theme Color -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#4a90e2">
    
    <!-- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏•‡∏ö‡∏£‡∏≤‡∏£‡∏µ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    
    <!-- Link to external CSS -->
    <link rel="stylesheet" href="style.css">

    <!-- Fallback for non-PWA browsers -->
    <script>
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', function() {
          navigator.serviceWorker.register('./service-worker.js');
        });
      }
    </script>
</head>
<body>
    <div class="container">
        <!-- Header for logged in users -->
        <header id="main-header" class="hidden">
            <div class="header-top">
                <h1 id="welcome-message">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°, ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô!</h1>
                <button class="menu-toggle" id="menu-toggle">‚ò∞</button>
            </div>
            <nav id="main-nav" class="mobile-hidden">
                <div class="nav-row">
                    <a href="#" data-page="activity" class="active">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</a>
                    <a href="#" data-page="summary">‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</a>
                </div>
                <div class="nav-row">
                    <a href="#" data-page="activity-types">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</a>
                    <a href="#" data-page="admin" id="admin-link" class="hidden">‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö</a>
                </div>
                <button id="logout-button">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</button>
            </nav>
        </header>

        <!-- Login/Register Section -->
        <div id="auth-section">
            <h1>‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</h1>
            
            <div class="form-section" id="login-section">
                <h2>‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</h2>
                <form id="login-form">
                    <input type="text" id="login-username" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô" required>
                    
                    <div class="password-container">
                        <input type="password" id="login-password" placeholder="‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô" required>
                        <button type="button" class="password-toggle" id="toggle-login-password">üëÅÔ∏è</button>
                    </div>
                    
                    <div class="remember-me-container">
                        <input type="checkbox" id="remember-me">
                        <label for="remember-me">‡∏à‡∏≥‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</label>
                    </div>
                    
                    <button type="submit">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>
                    <p id="login-message" class="error-message"></p>
                </form>
            </div>
        </div>

        <!-- Activity Page Content -->
        <div id="activity-page" class="hidden">
            <section class="form-section">
                <h2>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÉ‡∏´‡∏°‡πà</h2>
                <form id="activity-form">
                    <label for="activity-name-select">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°:</label>
                    <select id="activity-name-select" required>
                        <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° --</option>
                    </select>
                    <input type="date" id="activity-date" required>
                    
                    <label for="start-time">‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î:</label>
                    <div class="time-inputs-container">
                        <div class="time-input-group">
                            <input type="time" id="start-time" required>
                            <span class="time-label">‡πÄ‡∏£‡∏¥‡πà‡∏°</span>
                        </div>
                        <span class="time-separator">‡∏ñ‡∏∂‡∏á</span>
                        <div class="time-input-group">
                            <input type="time" id="end-time" required>
                            <span class="time-label">‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î</span>
                        </div>
                    </div>
                    
                    <label for="activity-details">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° (‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö):</label>
                    <textarea id="activity-details" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°‡∏Å‡∏±‡∏ö‡∏ó‡∏µ‡∏°, ‡∏≠‡πà‡∏≤‡∏ô‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏ö‡∏ó‡∏ó‡∏µ‡πà 5"></textarea>
                    <button type="submit" id="save-activity-button">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</button>
                    <button type="button" id="update-activity-button" class="hidden">‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</button>
                    <button type="button" id="cancel-edit-activity-button" class="hidden">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                    <p id="activity-message" class="error-message"></p>
                </form>
            </section>

            <section class="data-section">
                <h2>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</h2>
                <div class="filter-controls">
                    <input type="date" id="filter-date">
                    <select id="filter-activity-type">
                        <option value="">-- ‡∏Å‡∏£‡∏≠‡∏á‡∏ï‡∏≤‡∏°‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó --</option>
                    </select>
                    <button id="apply-filter-button">‡∏Å‡∏£‡∏≠‡∏á</button>
                    <button id="reset-filter-button">‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï</button>
                </div>
                <div class="table-container">
                    <table id="activity-list-table">
                        <thead>
                            <tr>
                                <th>‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</th>
                                <th>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</th>
                                <th>‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏ß‡∏•‡∏≤</th>
                                <th>‡∏à‡∏ö‡πÄ‡∏ß‡∏•‡∏≤</th>
                                <th>‡∏£‡∏ß‡∏°‡πÄ‡∏ß‡∏•‡∏≤</th>
                                <th>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</th>
                                <th>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Activities will be loaded here by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </section>
        </div>
        
        <!-- Activity Types Management Page Content -->
        <div id="activity-types-page" class="hidden">
            <section class="form-section">
                <h2>‡πÄ‡∏û‡∏¥‡πà‡∏°/‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</h2>
                <form id="activity-type-form">
                    <input type="text" id="activity-type-name" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÉ‡∏´‡∏°‡πà" required>
                    <button type="submit" id="save-activity-type-button">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</button>
                    <button type="button" id="update-activity-type-button" class="hidden">‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</button>
                    <button type="button" id="cancel-activity-type-edit-button" class="hidden">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                    <p id="activity-type-message" class="error-message"></p>
                </form>
            </section>

            <section class="data-section">
                <h2>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h2>
                <table id="activity-types-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>‡∏ä‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</th>
                            <th>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Activity types will be loaded here by JavaScript -->
                    </tbody>
                </table>
            </section>
        </div>

        <!-- Summary Page Content -->
        <div id="summary-page" class="hidden">
            <section class="data-section">
                <h2>‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</h2>
                <div class="filter-controls">
                    <label for="summary-type-select">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏™‡∏£‡∏∏‡∏õ:</label>
                    <select id="summary-type-select">
                         <option value="brief-summary">‡∏™‡∏£‡∏∏‡∏õ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏¢‡πà‡∏≠</option>
                        <option value="single-day">‡∏ï‡∏≤‡∏°‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</option>
                        <option value="date-range">‡∏ï‡∏≤‡∏°‡∏ä‡πà‡∏ß‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</option>
                        <option value="all-time">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option>
                    </select>
                    <label for="summary-date-picker" id="label-summary-date-picker">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà:</label>
                    <input type="date" id="summary-date-picker">
                    <label for="summary-start-date" class="hidden" id="label-summary-start-date">‡∏à‡∏≤‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà:</label>
                    <input type="date" id="summary-start-date" class="hidden">
                    <label for="summary-end-date" class="hidden" id="label-summary-end-date">‡∏ñ‡∏∂‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà:</label>
                    <input type="date" id="summary-end-date" class="hidden">
                    <button id="view-summary-button">‡∏î‡∏π‡∏™‡∏£‡∏∏‡∏õ</button>
                </div>

                <div id="daily-summary-results">
                    <p>‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏™‡∏£‡∏∏‡∏õ‡πÅ‡∏•‡∏∞‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</p>
                </div>
            </section>
        </div>

        <!-- Admin Page Content -->
        <div id="admin-page" class="hidden">
            <!-- Import from Other Account and Cleanup Section -->
            <section class="form-section">
                <h2>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏∞‡∏ö‡∏ö</h2>
                <div class="button-group horizontal admin-button-group">
                    <button id="import-from-other-user-button">‡∏ô‡∏≥‡πÄ‡∏Ç‡πâ‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏≠‡∏∑‡πà‡∏ô</button>
                    <button id="cleanup-data-button" style="background-color: #dc3545;">‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏¢‡∏∞</button>
                </div>
                <p id="import-from-other-message" class="info-message"></p>
                <p id="cleanup-message" class="info-message"></p>
            </section>

            <!-- Import/Export Data Section -->
            <section class="data-section">
                <h2>‡∏ô‡∏≥‡πÄ‡∏Ç‡πâ‡∏≤/‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</h2>
                <div class="button-group horizontal admin-button-group">
                    <button id="export-data-button">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (JSON)</button>
                    <input type="file" id="import-data-input" accept=".json" class="hidden">
                    <button id="show-import-button">‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (JSON)</button>
                </div>
                <p id="import-export-message" class="info-message"></p>
                
                <!-- Backup and Restore Section -->
                <div class="button-group horizontal admin-button-group">
                    <button id="backup-data-button">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (‡∏°‡∏µ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô)</button>
                    <input type="file" id="restore-data-input" accept=".json" class="hidden">
                    <button id="show-restore-button">‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (‡πÉ‡∏ä‡πâ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô)</button>
                </div>
                <p id="backup-restore-message" class="info-message"></p>
                <p class="info-message" style="font-size: 0.8rem; margin-top: -10px;">
                    ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: ‡∏Å‡∏≤‡∏£‡∏™‡∏≥‡∏£‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏´‡∏±‡∏™‡∏î‡πâ‡∏ß‡∏¢‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏Å‡∏≥‡∏´‡∏ô‡∏î<br>
                    ‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏Å‡∏π‡πâ‡∏Ñ‡∏∑‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
                </p>
            </section>

            <!-- Add New User Section -->
            <section class="form-section">
                <h2>‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà</h2>
                <form id="admin-add-user-form">
                    <input type="text" id="admin-add-username" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô" required>
                    
                    <div class="password-container">
                        <input type="password" id="admin-add-password" placeholder="‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô" required>
                        <button type="button" class="password-toggle" id="toggle-admin-add-password">üëÅÔ∏è</button>
                    </div>
                    
                    <div class="password-container">
                        <input type="password" id="admin-add-confirm-password" placeholder="‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô" required>
                        <button type="button" class="password-toggle" id="toggle-admin-add-confirm-password">üëÅÔ∏è</button>
                    </div>
                    
                    <select id="admin-add-role" required>
                        <option value="user">User</option>
                        <option value="admin">Admin</option>
                    </select>
                    <button type="submit">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</button>
                    <p id="admin-add-user-message" class="error-message"></p>
                </form>
            </section>

            <!-- All Users Section -->
            <section class="data-section">
                <h2>‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h2>
                <div class="table-container">
                    <table id="user-list-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</th>
                                <th>‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó</th>
                                <th>‡∏ú‡∏π‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á</th>
                                <th>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Users will be loaded here by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- All Activities Section -->
            <section class="data-section">
                <h2>‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h2>
                <div class="filter-controls">
                    <input type="text" id="admin-search-user" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô">
                    <input type="date" id="admin-filter-date">
                    <select id="admin-filter-activity-type">
                        <option value="">-- ‡∏Å‡∏£‡∏≠‡∏á‡∏ï‡∏≤‡∏°‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó --</option>
                    </select>
                    <button id="admin-apply-filter-button">‡∏Å‡∏£‡∏≠‡∏á</button>
                    <button id="admin-reset-filter-button">‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï</button>
                </div>
                <table id="all-activities-table">
                    <thead>
                        <tr>
                            <th>‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</th>
                            <th>‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</th>
                            <th>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</th>
                            <th>‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏ß‡∏•‡∏≤</th>
                            <th>‡∏à‡∏ö‡πÄ‡∏ß‡∏•‡∏≤</th>
                            <th>‡∏£‡∏ß‡∏°‡πÄ‡∏ß‡∏•‡∏≤</th>
                            <th>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</th>
                            <th>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- All activities will be loaded here by JavaScript -->
                    </tbody>
                </table>
            </section>
        </div>

        <!-- Import from Other Account Modal -->
        <div id="import-from-other-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="modal-title">‡∏ô‡∏≥‡πÄ‡∏Ç‡πâ‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏≠‡∏∑‡πà‡∏ô</h3>
                    <button class="close-modal">&times;</button>
                </div>
                <form id="import-from-other-form">
                    <label for="source-user-select">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏ï‡πâ‡∏ô‡∏ó‡∏≤‡∏á:</label>
                    <select id="source-user-select" required>
                        <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ --</option>
                    </select>
                    
                    <label>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏ô‡∏≥‡πÄ‡∏Ç‡πâ‡∏≤:</label>
                    <div class="remember-me-container">
                        <input type="checkbox" id="import-activities" checked>
                        <label for="import-activities">‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</label>
                    </div>
                    <div class="remember-me-container">
                        <input type="checkbox" id="import-activity-types" checked>
                        <label for="import-activity-types">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</label>
                    </div>
                    
                    <div class="remember-me-container">
                        <input type="checkbox" id="replace-existing-data">
                        <label for="replace-existing-data">‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà (‡∏´‡∏≤‡∏Å‡πÑ‡∏°‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•)</label>
                    </div>
                    
                    <button type="submit">‡∏ô‡∏≥‡πÄ‡∏Ç‡πâ‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
                    <p id="import-from-other-form-message" class="error-message"></p>
                </form>
            </div>
        </div>

        <!-- Modal for editing users -->
        <div id="edit-user-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="modal-title">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</h3>
                    <button class="close-modal">&times;</button>
                </div>
                <form id="edit-user-form">
                    <input type="hidden" id="edit-user-id">
                    <input type="text" id="edit-user-username" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô" required>
                    
                    <div class="password-container">
                        <input type="password" id="edit-user-password" placeholder="‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà (‡πÄ‡∏ß‡πâ‡∏ô‡∏ß‡πà‡∏≤‡∏á‡∏´‡∏≤‡∏Å‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô)">
                        <button type="button" class="password-toggle" id="toggle-edit-user-password">üëÅÔ∏è</button>
                    </div>
                    
                    <div class="password-container">
                        <input type="password" id="edit-user-confirm-password" placeholder="‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà">
                        <button type="button" class="password-toggle" id="toggle-edit-user-confirm-password">üëÅÔ∏è</button>
                    </div>
                    
                    <select id="edit-user-role" required>
                        <option value="user">User</option>
                        <option value="admin">Admin</option>
                    </select>
                    <button type="submit">‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</button>
                    <p id="edit-user-message" class="error-message"></p>
                </form>
            </div>
        </div>
        
        <!-- Modal ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏™‡∏£‡∏∏‡∏õ -->
        <div id="summaryOutputModal" class="modal-overlay">
            <div class="format-modal-content">
                <h3>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏™‡∏£‡∏∏‡∏õ</h3>
                <div class="format-modal-buttons">
                    <button class="btn-display" onclick="handleSummaryOutput('display')">‡πÅ‡∏™‡∏î‡∏á‡∏ö‡∏ô‡∏à‡∏≠</button>
                    <button class="btn-xlsx" onclick="handleSummaryOutput('xlsx')">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏õ‡πá‡∏ô XLSX</button>
                    <button class="btn-pdf" onclick="handleSummaryOutput('pdf')">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏õ‡πá‡∏ô PDF</button>
                    <button class="btn-cancel" onclick="closeSummaryOutputModal()">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                </div>
            </div>
        </div>

        <!-- Modal ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏£‡∏∏‡∏õ‡∏ö‡∏ô‡∏à‡∏≠ -->
        <div id="summaryModal" class="summary-modal-overlay">
            <div class="summary-modal-content-container">
                <div id="modalBodyContent" class="summaryResult">
                    <!-- ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏Å‡∏≤‡∏£‡∏™‡∏£‡∏∏‡∏õ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÉ‡∏™‡πà‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà‡πÇ‡∏î‡∏¢ JavaScript -->
                </div>
                <div class="summary-modal-controls">
                    <button id="saveSummaryAsImageBtn" class="summary-modal-close-btn" style="background-color: #007bff; margin-bottom: 15px;">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û</button>
                    <div class="summary-control-group">
                        <label for="summaryFontSizeSlider">‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£:</label>
                        <input type="range" id="summaryFontSizeSlider" min="0.5" max="1.5" step="0.05" value="1.0">
                        <span id="summaryFontSizeValue">‡∏Ç‡∏ô‡∏≤‡∏î: 100%</span>
                    </div>
                    <div class="summary-control-group">
                        <label for="summaryLineHeightSlider">‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡∏Ç‡∏≠‡∏á‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î:</label>
                        <input type="range" id="summaryLineHeightSlider" min="0.01" max="1.5" step="0.01" value="0.5">
                        <span id="summaryLineHeightValue">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡∏Ç‡∏≠‡∏á‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î: 0.5</span>
                    </div>
                    <button onclick="closeSummaryModal()" class="summary-modal-close-btn">‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡∏ô‡∏µ‡πâ</button>
                </div>
            </div>
        </div>

        <!-- Container ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏û‡∏¥‡∏°‡∏û‡πå PDF -->
        <div id="print-container"></div>
    </div>

    <!-- Link to external JavaScript -->
    <script src="script.js"></script>
</body>
</html>